:root {
    /* Tipografía */
    --font-main: 'Shrikhand', cursive;

    /* Paleta de Colores - Juego de Pareja */
    --color-espejo: #2d2d29;
    --color-equipo: #39d1a9;
    --color-fuego: #e04c9d;
    
    /* Paleta de Colores - Temporizador */
    --c1: #B49FDC; --c2: #C5EBFE; --c3: #FEFD97;
    --c4: #A5F8CE; --c5: #FEC9A7; --c6: #F197C0;

    /* Colores base de la UI */
    --color-text-dark: #333;
    --color-text-light: #fff;
}

/* --- RESeteo Global y Base --- */
* { margin: 0; padding: 0; box-sizing: border-box; }
html, body {
    width: 100%; height: 100%;
    font-family: var(--font-main);
    overflow: hidden; background-color: #fff;
}

/* --- Estructura Principal y Animación de Tarjeta --- */
#app-container {
    position: relative; width: 100%; height: 100%;
    perspective: 1500px;
}
.screen {
    position: absolute; width: 100%; height: 100%;
    display: flex; flex-direction: column;
    justify-content: center; align-items: center;
    padding: 2rem; text-align: center;
    transition: transform 0.6s, opacity 0.3s;
    transform-style: preserve-3d;
    backface-visibility: hidden;
    opacity: 0; visibility: hidden;
}
.screen.active { opacity: 1; visibility: visible; }
.screen.flipped { transform: rotateY(-180deg); }

/* --- Pantallas de Menú --- */
#start-screen, #category-screen, #game-selection-screen { background-color: #fff; }

.logo { max-width: 80%; height: auto; margin-bottom: 2rem; }
.start-text { font-size: 2rem; color: var(--color-text-dark); animation: blink 1.5s linear infinite; }
@keyframes blink { 50% { opacity: 0; } }

#game-selection-screen h1, #category-screen h1 { font-size: 2.5rem; margin-bottom: 3rem; }
.game-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 2rem; width: 100%; max-width: 400px; }
.game-item { cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 1rem; }
.game-item img { width: 120px; height: 120px; border-radius: 20px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); transition: transform 0.2s ease-out; }
.game-item:hover img { transform: scale(1.05); }
.game-item span { font-size: 1.5rem; color: var(--color-text-dark); }

/* --- Pantalla de Categorías --- */
#category-screen { justify-content: flex-start; padding-top: 8rem; }
.category-grid { display: flex; flex-direction: column; gap: 2rem; }
.category-item { cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 0.5rem; }
.category-item img { width: 100px; height: auto; }
.category-item span { font-size: 1.5rem; }
.category-item[data-category="elespejonegro"] span { color: var(--color-espejo); }
.category-item[data-category="equipoaprueba"] span { color: var(--color-equipo); }
.category-item[data-category="fuego"] span { color: var(--color-fuego); }

/* --- Pantalla de Pregunta --- */
#question-screen.elespejonegro { background-color: var(--color-espejo); }
#question-screen.equipoaprueba { background-color: var(--color-equipo); }
#question-screen.fuego { background-color: var(--color-fuego); }
.question-content { height: 100%; width: 100%; display: flex; flex-direction: column; justify-content: space-around; align-items: center; }
#question-icon { width: 80px; }
#question-text { font-size: 2rem; color: var(--color-text-light); flex-grow: 1; display: flex; align-items: center; padding: 1rem; }

/* --- Estilos para Botones de Regreso --- */
.back-button-ui {
    width: 40px; height: 40px;
    cursor: pointer;
    mask-image: url('IconoBack.png'); mask-size: contain; mask-repeat: no-repeat; mask-position: center;
    -webkit-mask-image: url('IconoBack.png'); -webkit-mask-size: contain; -webkit-mask-repeat: no-repeat; -webkit-mask-position: center;
}
/* CORRECCIÓN: Apuntar a la clase .back-to-games para los botones de regreso al menú de juegos */
.back-to-games {
    position: absolute; top: 2rem; left: 2rem;
    z-index: 20;
    background-color: var(--color-espejo); /* Color oscuro */
}
/* Botón para volver a Categorías (desde Pregunta) */
.back-to-categories { background-color: var(--color-text-light); margin-bottom: 2rem; }
/* Botón para volver a Configuración (desde Timer) */
.back-to-config {
    position: absolute; top: 2rem; left: 2rem;
    z-index: 110;
    background-color: white;
    opacity: 0; pointer-events: none;
    transition: opacity 0.3s;
}
.back-to-config.visible { opacity: 1; pointer-events: auto; }

/* --- Estilos para Configuración del Temporizador --- */
#timer-config-screen { background-color: #fff; justify-content: flex-start; padding-top: 8rem; overflow-y: auto; }
.config-form {
    display: flex; flex-direction: column; gap: 1.5rem;
    width: 100%; max-width: 350px;
    /* CORRECCIÓN: Centrar el contenido del formulario */
    align-items: center;
}
.config-option { display: flex; flex-direction: column; align-items: center; gap: 1rem; }
.config-option label { font-size: 1.8rem; }
.stepper { display: flex; align-items: center; }
.stepper button { font-size: 2rem; width: 50px; height: 50px; border: 2px solid var(--color-text-dark); background: none; border-radius: 50%; }
.stepper input { font-size: 2.5rem; width: 80px; text-align: center; border: none; font-family: var(--font-main); }
.cta-button { font-family: var(--font-main); font-size: 2rem; padding: 1rem 2rem; border: none; background-color: var(--color-equipo); color: white; border-radius: 15px; margin-top: 1rem; cursor: pointer; }
#player-configs-container { display: flex; flex-direction: column; gap: 1.5rem; width: 100%; }
.player-config-row { display: flex; flex-direction: column; gap: 1rem; padding: 1rem; border: 2px solid #eee; border-radius: 15px; }
.player-name-input { font-family: 'Helvetica Neue', sans-serif; font-size: 1.5rem; border: none; border-bottom: 2px solid #ccc; text-align: center; width: 100%; padding: 0.5rem; }
.color-palette { display: flex; justify-content: center; gap: 0.5rem; }
.color-swatch { width: 35px; height: 35px; border-radius: 50%; cursor: pointer; border: 3px solid transparent; transition: transform 0.2s; }
.color-swatch.selected { transform: scale(1.15); border-color: var(--color-text-dark); }

/* --- Estilos para la Pantalla del Temporizador --- */
#timer-screen { padding: 0; background-color: #111; }
#timer-container { width: 100%; height: 100%; display: flex; }
.player-area { flex-grow: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; cursor: pointer; transition: all 0.2s ease-in-out; color: white; }
.player-area .time-display { font-size: 6rem; font-weight: bold; font-family: 'Helvetica Neue', sans-serif; }
.player-area .player-label { font-size: 1.5rem; opacity: 0.7; }
.player-area:not(.active) { filter: brightness(0.5); transform: scale(0.98); }
.player-area.loser { background-color: #444 !important; filter: brightness(0.3); color: #888; }
/* Layouts */
#timer-container[data-players="1"], #timer-container[data-players="2"], #timer-container[data-players="3"] { flex-direction: column; }
#timer-container[data-players="3"] .player-area { width: 100%; }
#timer-container[data-players="3"] .player-area.p-1 { height: 50%; }
#timer-container[data-players="3"] #bottom-row { display: flex; height: 50%; width: 100%; }
#timer-container[data-players="4"] { flex-wrap: wrap; }
#timer-container[data-players="4"] .player-area { width: 50%; height: 50%; }
#timer-container[data-players="2"] .player-area.p-1 { transform: rotate(180deg); }
#timer-container[data-players="2"] .player-area.p-1.active { transform: rotate(180deg) scale(1); }
/* Botón de control */
.control-button {
    position: absolute; top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    width: 70px; height: 70px;
    border-radius: 50%;
    background-color: white; color: black;
    display: flex; justify-content: center; align-items: center;
    font-size: 2rem; cursor: pointer; z-index: 100;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}
